<!DOCTYPE html>
<html ng-app="example">
  <head>
    <meta charset="utf-8">
    <title>Lelylan</title>
  </head>
  <body>

    <h1>Simple Lelylan Resources access</h1>
    <div ng-controller="LelylanController">{{device}}</div>

    <script>
      function LelylanController($scope, AccessToken, Device) {
        // Set you access token
        AccessToken.set({ access_token: '<your-access-token>', expires_in: '7200' });
        // Retrieve all of your devices
        $scope.device = Device.query();
        // Listen to unauthorized request
        $scope.$on('lelylan:error:401', function(event) {
          console.log("[Lelylan Error] Unauthorized Request");
        });
      }
  </script>

    <script src="scripts/vendor/angular/angular.js"></script>
    <script src="scripts/vendor/angular/angular-resource.js"></script>
    <script src="scripts/vendor/angular/angular-cookies.js"></script>

    <!-- build:js scripts/scripts.js -->
    <script src="scripts/app.js"></script>

    <!-- Client -->
    <script src="scripts/models/activation.js"></script>
    <script src="scripts/models/deactivation.js"></script>
    <script src="scripts/models/device.js"></script>
    <script src="scripts/models/function.js"></script>
    <script src="scripts/models/history.js"></script>
    <script src="scripts/models/location.js"></script>
    <script src="scripts/models/profile.js"></script>
    <script src="scripts/models/property.js"></script>
    <script src="scripts/models/status.js"></script>
    <script src="scripts/models/subscription.js"></script>
    <script src="scripts/models/type.js"></script>

    <!-- authorization -->
    <script src="scripts/models/support/basic-auth/basic-request-wrapper.js"></script>
    <script src="scripts/models/support/basic-auth/basic-auth.js"></script>
    <script src="scripts/models/support/oauth2/request-wrapper.js"></script>
    <script src="scripts/models/support/oauth2/access-token.js"></script>
    <script src="scripts/models/support/oauth2/implicit-flow.js"></script>

    <!-- config -->
    <script src="scripts/config/config.js"></script>

    <!-- errrors -->
    <script src="scripts/interceptors/errors.js"></script>
    <!-- endbuild -->

    <script>
      var example = angular.module('example', ['lelylan.resources']);
      example.value('lelylan.config', { endpoint: 'http:///localhost\\:9000' });
    </script>
  </body>
</html>
